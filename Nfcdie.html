<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>200äº¿æ¬¡æš´åŠ›æŠ¥åºŸNFC</title>
<style>
body{
  background:#000; color:#fff;
  text-align:center; padding:50px 20px;
  font-family:Arial, sans-serif;
}
#btn{
  padding:25px 50px; font-size:26px;
  background:#f33; color:#fff;
  border:none; border-radius:15px;
  cursor:pointer;
}
#log{
  margin-top:40px; font-size:22px;
  min-height:60px;
}
</style>
</head>
<body>

<h1>ðŸ’¥ 200 äº¿æ¬¡æš´åŠ›æŠ¥åºŸ NFC</h1>
<button id="btn">å¼€å§‹ 200 äº¿æ¬¡å¾ªçŽ¯å†™å…¥</button>
<div id="log">å‡†å¤‡å°±ç»ª</div>

<script>
const btn = document.getElementById('btn');
const log = document.getElementById('log');

// è¶…å¤§åžƒåœ¾æ•°æ®
const junkData =
  "00000000000000000000000000000000000000000000000000" +
  "00000000000000000000000000000000000000000000000000" +
  "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF";

const TOTAL =20000000000; // 200 äº¿æ¬¡
let count = 0;

btn.onclick = async () => {
  btn.disabled = true;
  btn.textContent = "ðŸ”¥ å†™å…¥ä¸­...";
  log.textContent = "è¯·è´´ä¸Š NFC æ ‡ç­¾ï¼";

  try {
    const ndef = new NDEFReader();
    await ndef.scan();

    ndef.onreading = async () => {
      while (count < TOTAL) {
        try {
          await ndef.write({
            records: [{ recordType: "text", data: junkData }]
          });
          count++;
          log.textContent(`âœ… å·²å†™å…¥ï¼š${count} / 200 äº¿æ¬¡`);
        } catch (e) {
          log.textContent("ðŸ’¥ æ ‡ç­¾å·²æŠ¥åºŸ / æ— æ³•å†™å…¥");
          btn.textContent = "âœ… å·²æŠ¥åºŸ";
          return;
        }
      }
      log.textContent("âœ… 200 äº¿æ¬¡å†™å®Œï¼æ ‡ç­¾å·²æŠ¥åºŸ");
      btn.textContent = "å®Œæˆ";
    };

  } catch (e) {
    log.textContent("âŒ ä¸æ”¯æŒNFCæˆ–æœªæŽˆæƒ");
    btn.disabled = false;
    btn.textContent = "å¼€å§‹ 200 äº¿æ¬¡å¾ªçŽ¯å†™å…¥";
  }
};
</script>
</body>
</html>
